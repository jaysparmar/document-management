<section class="content">
  <div class="content-block">
    <div class="row">
      <div class="col-sm-12">
        <div class="card">
          <div class="card-header d-flex justify-content-between">
            <div class="header-title">
              <h4 class="card-title">{{ isEditMode ? ('EDIT_MEETING' | translate) : ('ADD_MEETING' | translate) }}</h4>
            </div>
          </div>
      <div class="card-body">
        <form [formGroup]="meetingForm" (ngSubmit)="saveMeeting()">
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="title">{{ 'TITLE' | translate }} *</label>
                <input type="text" id="title" formControlName="title" class="form-control"
                  [ngClass]="{ 'is-invalid': meetingForm.get('title').touched && meetingForm.get('title').invalid }">
                <div *ngIf="meetingForm.get('title').touched && meetingForm.get('title').invalid" class="invalid-feedback">
                  <div *ngIf="meetingForm.get('title').errors?.['required']">{{ 'TITLE_REQUIRED' | translate }}</div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="description">{{ 'DESCRIPTION' | translate }}</label>
                <textarea id="description" formControlName="description" class="form-control" rows="3"></textarea>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="start_time">{{ 'START_TIME' | translate }} *</label>
                <input type="datetime-local" id="start_time" formControlName="start_time" class="form-control"
                  [ngClass]="{ 'is-invalid': meetingForm.get('start_time').touched && meetingForm.get('start_time').invalid }">
                <div *ngIf="meetingForm.get('start_time').touched && meetingForm.get('start_time').invalid" class="invalid-feedback">
                  <div *ngIf="meetingForm.get('start_time').errors?.['required']">{{ 'START_TIME_REQUIRED' | translate }}</div>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="end_time">{{ 'END_TIME' | translate }} *</label>
                <input type="datetime-local" id="end_time" formControlName="end_time" class="form-control"
                  [ngClass]="{ 'is-invalid': meetingForm.get('end_time').touched && meetingForm.get('end_time').invalid }">
                <div *ngIf="meetingForm.get('end_time').touched && meetingForm.get('end_time').invalid" class="invalid-feedback">
                  <div *ngIf="meetingForm.get('end_time').errors?.['required']">{{ 'END_TIME_REQUIRED' | translate }}</div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <label for="user_ids">{{ 'PARTICIPANTS' | translate }}</label>
                <select multiple id="user_ids" formControlName="user_ids" class="form-control">
                  <!-- User options would be populated here -->
                </select>
              </div>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-12 text-right">
              <button type="button" class="btn btn-secondary mr-2" (click)="cancel()">{{ 'CANCEL' | translate }}</button>
              <button *ngIf="isEditMode" type="button" class="btn btn-danger mr-2" (click)="deleteMeeting()">
                <i class="fas fa-trash"></i> {{ 'DELETE' | translate }}
              </button>
              <button type="submit" class="btn btn-primary" [disabled]="meetingForm.invalid || loading">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                {{ isEditMode ? ('UPDATE' | translate) : ('SAVE' | translate) }}
              </button>
            </div>
          </div>
        </form>
      </div>
        </div>
      </div>
    </div>
  </div>
</section>
